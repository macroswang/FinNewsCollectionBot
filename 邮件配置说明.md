# 邮件发送配置说明

## 功能说明
已为您的财经机器人添加了邮件发送功能，默认发送到 `66616798@qq.com`。

## 环境变量配置

### 1. 获取QQ邮箱授权码
1. 登录您的QQ邮箱
2. 进入"设置" → "账户"
3. 找到"POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务"
4. 开启"POP3/SMTP服务"
5. 按照提示获取授权码（不是QQ密码）

### 2. 设置环境变量
需要设置以下两个环境变量：

```bash
# 发件人邮箱（您的QQ邮箱）
export EMAIL_SENDER="your_email@qq.com"

# QQ邮箱授权码
export EMAIL_PASSWORD="your_authorization_code"
```

### 3. 永久配置（可选）
将上述环境变量添加到您的shell配置文件中：

**对于 zsh (macOS):**
```bash
echo 'export EMAIL_SENDER="your_email@qq.com"' >> ~/.zshrc
echo 'export EMAIL_PASSWORD="your_authorization_code"' >> ~/.zshrc
source ~/.zshrc
```

**对于 bash:**
```bash
echo 'export EMAIL_SENDER="your_email@qq.com"' >> ~/.bashrc
echo 'export EMAIL_PASSWORD="your_authorization_code"' >> ~/.bashrc
source ~/.bashrc
```

## 使用说明

1. 配置好环境变量后，运行机器人时会自动发送邮件
2. 邮件内容与微信推送内容相同
3. 默认发送到 `66616798@qq.com`
4. 如需修改收件人邮箱，可编辑 `financebot.py` 中 `send_email_notification` 函数的默认参数

## 注意事项

- 请确保您的QQ邮箱已开启SMTP服务
- 授权码请妥善保管，不要泄露给他人
- 如果发送失败，请检查网络连接和邮箱配置
- QQ邮箱有发送频率限制，请合理使用

## 故障排除

1. **邮件发送失败**: 检查环境变量是否正确设置
2. **认证失败**: 确认授权码是否正确
3. **网络连接失败**: 检查网络连接和防火墙设置
